"use strict";(self["webpackChunkcinephile"]=self["webpackChunkcinephile"]||[]).push([[178],{9967:function(t,n,e){e.d(n,{Z:function(){return y}});var i=e(6252),o=e(3577);const s={class:"container"},l={class:"main-content"},a={class:"main-content__title"},c={class:"main-content-list"},r={key:0,class:"loading"},u=(0,i._)("div",{class:"loading__spinner"},null,-1),p=[u];function m(t,n,e,u,m,d){const g=(0,i.up)("ContentItem");return(0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",l,[(0,i._)("h2",a,(0,o.zw)("movie"==e.content?"Все Фильмы":"Все Сериалы"),1),(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.allContent,(t=>((0,i.wg)(),(0,i.j4)(g,{key:t.id,item:t,content:e.content},null,8,["item","content"])))),128))])]),m.loading?((0,i.wg)(),(0,i.iD)("div",r,p)):(0,i.kq)("",!0)])}e(7658);const d=["src"],g={class:"main-content-item__title"};function h(t,n,e,s,l,a){const c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(c,{class:"main-content-item",to:"#"},{default:(0,i.w5)((()=>[(0,i._)("img",{class:"main-content-item__img",src:t.imgFullUrl+e.item.poster_path,alt:"alt"},null,8,d),(0,i._)("span",g,(0,o.zw)(e.item.title||e.item.name),1)])),_:1})}var v=e(3907),w={props:["item","content"],computed:{...(0,v.rn)(["imgFullUrl"])}},_=e(3744);const f=(0,_.Z)(w,[["render",h]]);var C=f,k={data(){return{page:1,loading:!1,allContent:[]}},props:["content"],components:{ContentItem:C},computed:{...(0,v.rn)("popularMovies",["popularMovies"]),...(0,v.rn)("popularTvs",["popularTvs"])},methods:{async getContent(){if(!this.loading){this.loading=!0;let t="movie"==this.content?"popularMovies/getPopular":"popularTvs/getPopular";await this.$store.dispatch(`${t}`,this.page);let n="movie"==this.content?this.popularMovies:this.popularTvs;this.allContent.push(...n),this.loading=!1,this.page++}}},mounted(){window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.getContent()})),this.getContent()}};const Z=(0,_.Z)(k,[["render",m]]);var y=Z},7178:function(t,n,e){e.r(n),e.d(n,{default:function(){return u}});var i=e(6252);const o={class:"main"};function s(t,n,e,s,l,a){const c=(0,i.up)("ContentList");return(0,i.wg)(),(0,i.iD)("main",o,[(0,i.Wm)(c,{content:"tv"})])}var l=e(9967),a={components:{ContentList:l.Z}},c=e(3744);const r=(0,c.Z)(a,[["render",s]]);var u=r}}]);
//# sourceMappingURL=178.e63c5acf.js.map